{% extends "base.html" %}

{% block content %}
<!-- Rauch-inspired index list -->
<section class="space-y-3 sm:space-y-4">
    {% for year, posts in grouped_posts.items() %}
        {% set year_index = loop.index0 %}
        {% for post in posts %}
            <article class="post-link group grid grid-cols-[3.5rem_1fr_auto] sm:grid-cols-[4rem_1fr_auto] items-baseline gap-4 text-sm sm:text-base {{ 'pt-6 sm:pt-8' if loop.first and year_index > 0 else '' }}">
                <span class="text-[13px] sm:text-sm text-gray-400 dark:text-gray-500 tabular-nums">
                    {% if loop.first %}{{ year }}{% endif %}
                </span>
                <a href="{{ url_for('post', slug=post.slug) }}" class="post-title text-[15px] sm:text-base font-normal text-black dark:text-white group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors">
                    {{ post.title }}
                </a>
                <span class="text-[13px] sm:text-sm text-gray-400 dark:text-gray-500 tabular-nums">
                    {{ "{:,}".format(post.views) }}
                </span>
            </article>
        {% endfor %}
    {% endfor %}
</section>
{% endblock %}
