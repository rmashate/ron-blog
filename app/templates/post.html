{% extends "base.html" %}

{% block title %}{{ post.title }} - Ron Mashate{% endblock %}
{% block description %}{{ post.meta_description }}{% endblock %}

{% block og_title %}{{ post.title }}{% endblock %}
{% block og_description %}{{ post.meta_description }}{% endblock %}
{% block og_type %}article{% endblock %}
{% block twitter_title %}{{ post.title }}{% endblock %}
{% block twitter_description %}{{ post.meta_description }}{% endblock %}

{% block content %}
<article class="py-12 lg:py-16">
    <div class="lg:grid lg:grid-cols-[minmax(0,1fr)_minmax(0,2.75fr)] lg:gap-16">
        <aside class="hidden lg:flex flex-col space-y-10 text-xs text-gray-500 dark:text-gray-400 pt-2">
            <div class="space-y-2">
                <p class="uppercase tracking-[0.35em] text-[0.65rem] text-gray-400 dark:text-gray-500">Published</p>
                <p class="text-sm font-medium text-black dark:text-white tracking-normal uppercase">{{ post.date.strftime('%b %d, %Y') }}</p>
            </div>
            <div class="space-y-2">
                <p class="uppercase tracking-[0.35em] text-[0.65rem] text-gray-400 dark:text-gray-500">Reading</p>
                <p class="text-sm font-medium text-black dark:text-white tracking-normal uppercase">{{ post.reading_time_minutes }} min read</p>
            </div>
            <div class="space-y-2">
                <p class="uppercase tracking-[0.35em] text-[0.65rem] text-gray-400 dark:text-gray-500">Views</p>
                <p class="text-sm font-medium text-black dark:text-white tracking-normal uppercase tabular-nums">{{ "{:,}".format(post.views) }}</p>
            </div>
        </aside>

        <div>
            <header class="mb-12">
                <div class="h-px w-16 bg-gradient-to-r from-gray-200 via-gray-100 to-transparent dark:from-gray-700 dark:via-gray-800"></div>
                <p class="mt-6 text-xs uppercase tracking-[0.35em] text-gray-400 dark:text-gray-500">Ron Mashate</p>
                <h1 class="mt-6 text-4xl md:text-6xl font-semibold leading-tight tracking-tight text-black dark:text-white">
                    {{ post.title }}
                </h1>
                {% if post.meta_description %}
                <p class="mt-6 text-base md:text-lg text-gray-600 dark:text-gray-300 max-w-2xl">
                    {{ post.meta_description }}
                </p>
                {% endif %}

                <div class="mt-10 flex flex-wrap items-center gap-x-4 gap-y-2 text-xs text-gray-500 dark:text-gray-400 lg:hidden">
                    <span>{{ post.date.strftime('%B %d, %Y') }}</span>
                    <span>•</span>
                    <span>{{ post.reading_time_minutes }} min read</span>
                    <span>•</span>
                    <span class="tabular-nums">{{ "{:,}".format(post.views) }} views</span>
                </div>
            </header>

            <div class="prose prose-base md:prose-lg dark:prose-invert max-w-none prose-headings:font-semibold prose-headings:tracking-tight prose-p:text-gray-700 dark:prose-p:text-gray-200 prose-a:text-blue-600 dark:prose-a:text-blue-400 prose-blockquote:border-l-4 prose-blockquote:border-gray-200 dark:prose-blockquote:border-gray-700 prose-img:rounded-xl">
                {{ post.html_content | safe }}
            </div>

            <footer class="mt-16 pt-10 border-t border-gray-200 dark:border-gray-800">
                <div class="flex flex-col md:flex-row md:items-center md:justify-between gap-8">
                    <div>
                        <p class="text-xs uppercase tracking-[0.35em] text-gray-400 dark:text-gray-500">Share</p>
                        <div class="mt-3 flex flex-wrap items-center gap-4 text-sm text-gray-600 dark:text-gray-300">
                            <a href="https://twitter.com/intent/tweet?text={{ post.title | urlencode }}&url={{ request.url | urlencode }}"
                               target="_blank"
                               rel="noopener noreferrer"
                               class="hover:text-black dark:hover:text-white transition-colors">
                                Share on X
                            </a>
                            <a href="https://www.linkedin.com/sharing/share-offsite/?url={{ request.url | urlencode }}"
                               target="_blank"
                               rel="noopener noreferrer"
                               class="hover:text-black dark:hover:text-white transition-colors">
                                Share on LinkedIn
                            </a>
                            <button type="button"
                                    onclick="navigator.clipboard.writeText({{ request.url | tojson }})"
                                    class="text-left hover:text-black dark:hover:text-white transition-colors">
                                Copy link
                            </button>
                        </div>
                    </div>
                    <a href="{{ url_for('index') }}"
                       class="text-sm text-gray-600 dark:text-gray-300 hover:text-black dark:hover:text-white transition-colors flex items-center gap-2">
                        <span aria-hidden="true">←</span>
                        <span>Back to all posts</span>
                    </a>
                </div>
            </footer>
        </div>
    </div>
</article>
{% endblock %}

{% block scripts %}{% endblock %}
